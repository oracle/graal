/**
 * @license
 * Copyright (c) 2014, 2020, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojcore","ojs/ojtranslation","jquery","ojs/ojmessaging","ojs/ojlogger","ojs/ojmetadatautils","ojs/ojdefaultsutils","ojs/ojcustomelement","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojdomutils","ojs/ojfocusutils"],function(t,e,n,i,s,o,r){"use strict";var a=r.DefaultsUtils;t.Components={};t.Components;t.Components._OJ_CONTAINER_ATTR="data-oj-container";var u="oj-component-names",l="oj-component-initnode",c="oj-subtree-hidden",g="oj-pending-subtree-hidden";function _(t,e){var i=function(){var t=n(this),i=t.data(u);if(null!=i)for(var s=0;s<i.length;s++){var o=t.data("oj-"+i[s]);null!=o&&e(o)}},s=n(t);s.hasClass(l)&&i.call(t),s.find("."+l).each(i)}function p(t,e,i){function s(t){if(e&&t.classList.contains(l)){var s=n(t),o=s.data(u);if(null!=o)for(var r=0;r<o.length;r++){var a=s.data("oj-"+o[r]);null!=a&&e(a)}}if(i&&"oj-defer"===t.tagName.toLowerCase()){if(!t._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");t._activate()}}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.nodeType===Node.ELEMENT_NODE&&e.classList.contains(c))return!0;e=e.parentNode}return!0}(t)){s(t);var o=["."+l];i&&o.push("oj-defer");var r=[];o.forEach(function(t){r.push("."+c+" "+t),r.push("."+g+" "+t)});for(var a=o.join(","),_=r.join(","),p=function(t,e){for(var n=[],i=0,s=0;s<e.length;s++){for(var o=e[s];i<t.length&&t[i]!==o;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(a),t.querySelectorAll(_)),h=0;h<p.length;h++)s(p[h])}}function h(t){this.getCallback=function(){return t}}function d(t,e,n){return Object.keys(e).forEach(function(i){var s=t[i]||[],o=e[i];n?s=s.concat(o):s.push(o),t[i]=s}),t}function E(e){return t.BaseCustomElementBridge.getRegistered(e.tagName)}function m(e){return!!t.Components.__GetWidgetConstructor(e)}function f(t){return E(t)||m(t)}t.Components.setDefaultOptions=function(e){var n=t.Components._defaultProperties||{};Object.keys(e).forEach(function(i){var s=e[i];if(!t.CollectionUtils.isPlainObject(s))throw new Error("Invalid default options");n[i]=d(n[i]||{},s,!1)}),t.Components._defaultProperties=n},t.Components.getDefaultOptions=function(){return t.Components._defaultProperties||{}},t.Components.createDynamicPropertyGetter=function(t){return new h(t)},t.Components.getWidgetConstructor=function(e,n){return e&&!t.BaseCustomElementBridge.getRegistered(e.tagName)?t.Components.__GetWidgetConstructor(e,n):null},t.Components.__GetWidgetConstructor=function(t,e){var i=n(t),s=i.data(u);if(s&&(null==e?e=s[0]:s.indexOf(e)<0&&(e=void 0),null!=e)){var o=i[e];if("function"==typeof o)return o.bind(i)}return null},t.Components.subtreeAttached=function(e){t.DomUtils.fixResizeListeners(e),_(e,function(t){t.__handleSubtreeAttached()})},t.Components.subtreeDetached=function(t){_(t,function(t){t.__handleSubtreeDetached()})},t.Components.subtreeShown=function(e,i){var s=n(e)[0];if(s.nodeType===Node.ELEMENT_NODE){var o=(i||{}).initialRender;o||t.DomUtils.fixResizeListeners(s),s.classList.remove(c),p(s,function(t){o?t._NotifyInitShown():t._NotifyShown()},!0)}},t.Components.subtreeHidden=function(t){var e=n(t)[0];e.nodeType===Node.ELEMENT_NODE&&(p(e,function(t){t._NotifyHidden()},!1),e.classList.add(c))},t.Components.markPendingSubtreeHidden=function(t){t.classList.add(g)},t.Components.unmarkPendingSubtreeHidden=function(t){t.classList.remove(g)},t.Components.isComponentInitialized=function(t,e){var i=t.data(u);return!!(n.isArray(i)&&i.indexOf(e)>-1&&t.is("."+l))},t.Components.__getDefaultOptions=function(e){for(var n={},i=t.Components.getDefaultOptions(),s=e.length-1;s>=0;s--){var o=i[e[s]];void 0!==o&&(n=d(n,o,!0))}return n},t.Components.getComponentElementByNode=function(e){return function e(n,i){if(null==n)return null;var s=1===n.nodeType;var o=t.Composite&&!i?t.Composite.getContainingComposite(n):null;if(o)return o;if(s&&n.hasAttribute("data-oj-internal"))return n.parentNode instanceof Element&&n.parentNode.hasAttribute("data-oj-surrogate-id")?(n=document.querySelector("[data-oj-popup-"+n.id+"-parent]"),e(n,i)):e(n.parentNode,i);if(f(n))return n;if(s&&n.classList.contains("oj-component")){if(m(n=n.querySelector(".oj-component-initnode:not([data-oj-internal])")||n))return n}else if(s&&n.hasAttribute("data-oj-containerid"))return n=document.getElementById(n.getAttribute("data-oj-containerid")),e(n,i);return e(n.parentNode,i)}(e,!!(arguments.length>1&&arguments[1]))},t.Components.getSubIdByNode=function(e,n){return t.Components.callComponentMethod(e,"getSubIdByNode",n)},t.Components.getNodeBySubId=function(e,n){return t.Components.callComponentMethod(e,"getNodeBySubId",n)},t.Components.getComponentOption=function(e,n){if(!f(e))throw new Error("node is not a component element");return E(e)?e.getProperty?e.getProperty.call(e,n):void 0:t.Components.__GetWidgetConstructor(e)("option",n)},t.Components.setComponentOption=function(e,n,i){if(!f(e))throw new Error("node is not a component element");E(e)?e.setProperty&&e.setProperty.call(e,n,i):t.Components.__GetWidgetConstructor(e)("option",n,i)},t.Components.callComponentMethod=function(e,i,s){if(!f(e))throw new Error("node is not a component element");return E(e)?e[i]?e[i].apply(e,[].slice.call(arguments,2)):void 0:t.Components.__GetWidgetConstructor(e).apply(n(e),[].slice.call(arguments,1))};var v,C,y={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=N},stopPropagation:function(){this.isPropagationStopped=N},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=N}};function T(t,e,n,i,s,o,r){var a=n,u=!1,l={};delete i[s],Object.defineProperty(i,s,{get:function(){if(u)return a;if(null!=t._settingNestedKey)return a;var n=o(r?r():s);return A([e,n,a],l)},set:function(e){a=e,null!=t._settingNestedKey?l[t._settingNestedKey]=!0:u=!0},enumerable:!0})}function S(t){if(1===t.length){var e=t[0];return e instanceof h?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var s=t[i];null!=s&&s instanceof h&&(n=!0)}if(n){return function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof h?n.push(t.getCallback()(e)):n.push(t)}),A(n)}}return null}function A(t,e){for(var i,s=0;s<t.length;s++){var o=t[s];if(void 0!==o)if(n.isPlainObject(o))i=M({},n.isPlainObject(i)?[i,o]:[o],s===t.length-1?null:e,null);else i=o}return i}function M(t,e,i,s){for(var o=e.length,r=0;r<o;r++)for(var a=e[r],u=Object.keys(a),l=0;l<u.length;l++){var c,g=u[l];if(c=null==i?null:null==s?g:s+"."+g,null==i||!i[c]){var _=a[g];if(void 0!==_)if(n.isPlainObject(_)){var p=n.isPlainObject(t[g])?[t[g],_]:[_];t[g]=M({},p,i,c)}else t[g]=_}}return t}function N(){return!0}n.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var i=t.class;i&&e.addClass(i);var s=t.style;if(s){var o=e.attr("style");o?e.attr("style",o+";"+s):e.attr("style",s)}delete(t=n.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var r=Object.keys(t);if(r.length)throw new Error("Unsupported values passed to rootAttributes option: "+r.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(l)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data(u))||(n=[],t.data(u,n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:n.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],n.each(t,function(t,i){var s={},o={element:i,attributes:s},r=i.attributes;e._savedAttributes.push(o),n.each(r,function(t,e){var n=e.name;s[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,s=e.length;i<s;i++){var o=e[i];if(o.element===n)return o.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){n.each(this._savedAttributes,function(t,e){var i=n(e.element),s=e.attributes;if(1===i.length){var o,r,a=e.element.attributes,u=[];for(o=0,r=a.length;o<r;o++)a[o].name in s||u.push(a[o].name);for(o=0,r=u.length;o<r;o++)i.removeAttr(u[o]);var l=Object.keys(s);for(o=0;o<l.length;o++){var c=l[o];i.attr(c,s[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,n,i){return this._IsCustomElement()&&this._getWritebackOption(e)?t.Object.compareValues(n,i):n===i},getTranslatedString:function(t,n){var i={};arguments.length>2?i=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(i=arguments[1])||i instanceof Array||(i=[i]));var s=this.option("translations."+t);return null==s?t:e.applyParameters(s.toString(),i)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),t.DomUtils.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass(l),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data(u);if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData(u))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(e,i){if(0===arguments.length)return n.widget.extend({},this.options);var o,r=arguments[0],a=r,u=null,l={};if("string"==typeof r){a={};var c=r.split(".");if(r=c.shift(),c.length){var g;u=c.join(".");try{arguments.length>1&&(this._settingNestedKey=u),g=n.widget.extend({},this.options[r]),a[r]=g}finally{this._settingNestedKey=null}for(o=0;o<c.length-1;o++)g[c[o]]=g[c[o]]||{},g=g[c[o]];if(r=c.pop(),1===arguments.length)return void 0===g[r]?null:g[r];g[r]=i}else{if(1===arguments.length)return void 0===this.options[r]?null:this.options[r];a[r]=i}l=arguments[2]||l}else l=arguments[1]||l;if(null!=u){var _={path:e,value:i};l=n.widget.extend({},l,{subkey:u,subproperty:_})}var p=l?l._context:null,h=!!p&&p.internalSet,d={},E=Object.keys(a);for(o=0;o<E.length;o++){var m=E[o],f=a[m],v=this.options[m];l&&l.changed||!this._CompareOptionValues(m,v,f)?d[m]=f:this._IsCustomElement()&&s.info(t.BaseCustomElementBridge.getElementInfo(this.element[0])+": Ignoring property set for property '"+m+"' with same value.")}return Object.keys(d).length>0&&(h?this._internalSetOptions(d,l):this._setOptions(d,l)),this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],o=t[s],r=this.options[s];this.options[s]=o,this._optionChanged(s,o,r,e)}},_setOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],o=t[s];this._setOption(s,o,e)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var s=null==n?null:n.subkey;null!=s&&(this._settingNestedKey=s),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,i,s){var o,r=null,a=!1,u=!1,l=null,c="external",g=null;if(s&&(r=s._context)){if(r.skipEvent)return;l=r.originalEvent,a=void 0===r.writeback?null!=l:r.writeback,u=r.readOnly,g=r.optionMetadata,o=r.extraData,r.internalSet&&(c="internal")}(g=g||{}).writeback=a?"shouldWrite":"shouldNotWrite",u&&(g.readOnly=!0);var _={option:t,previousValue:i,value:e,optionMetadata:g,updatedFrom:c},p=null==s?null:s.subkey;if(p){var h=p.split("."),d=i;h.forEach(function(t){d&&(d=d[t])});var E=s.subproperty;E.previousValue=d,_.subproperty=E}null!=o&&(_=n.extend({},o,_)),this._trigger("optionChange",l,_)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,i){var s=i||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,s);var o=this.options[t],r=n.Event(e,y);return r.type=(this.widgetEventPrefix+t).toLowerCase(),r.target=this.element[0],this.element.trigger(r,s),{proceed:!(n.isFunction(o)&&!1===o.apply(this.element[0],[r].concat(s))||r.isDefaultPrevented()),event:r}},_triggerCustomEvent:function(e,i,s){var o,r,a,u={},l=this._getRootElement();if("optionChange"===e){var c=t.CustomElementBridge.getPropertyForAlias(l,s.option);if(!t.CustomElementBridge.isKnownProperty(l,c))return{proceed:!0,event:null};o=t.__AttributeUtils.propertyNameToChangeEventType(c);for(var g=Object.keys(s),_=0;_<g.length;_++){var p=g[_];if("option"!==p)if("optionMetadata"===p)for(var h=Object.keys(s[p]),d=0;d<h.length;d++){var E=h[d];"writeback"!==E&&"component"!==E&&(u[E]=s[p][E])}else u[p]=s[p]}}else{if(o=t.__AttributeUtils.eventTriggerToEventType(e),!t.CustomElementBridge.isKnownEvent(l,o))return{proceed:!0,event:null};r=!0,a=!0,u=this._resolveJQueryObjects(s)}i&&(u.originalEvent=i instanceof n.Event?i.originalEvent:i);var m={detail:u};r&&(m.bubbles=!0),a&&(m.cancelable=!0);var f=new CustomEvent(o,m);return l.dispatchEvent(f),{proceed:!f.defaultPrevented,event:f}},_resolveJQueryObjects:function(e){for(var i=t.CollectionUtils.copyInto({},e),s=Object.keys(i),o=0;o<s.length;o++){var r=s[o],a=i[r];a&&a instanceof n&&(0===a.length?i[r]=null:1===a.length?i[r]=a[0]:i=a.toArray())}return i},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,!e||"contextMenu"in t||this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(e,i,s){if(!this._IsEffectivelyDisabled()){var o;if("OJ-MENU"===e.tagName)o=e;else{var r=t.Components.__GetWidgetConstructor(e,"ojMenu");if(!(o=r&&r("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(o,i,s),n(e).is(":visible")&&i.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var n=this;t.GestureUtils.startDetectContextMenuGesture(this.widget()[0],function(t,i){n._handleContextMenuGesture(e,t,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,t.GestureUtils.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var e=t.BaseCustomElementBridge.getSlotMap(this._getRootElement()).contextMenu;if(e&&e.length>0)return e[0]}else if(this.options.contextMenu)return n(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(e,i,s,o,r){var a=this._GetContextMenu();if(a||(a=this._contextMenuGestureInit&&n(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),a){var u={mouse:{my:"start top",at:"start bottom",of:e,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:u[i]},c={initialFocus:"menu"},g=r?n.extend(l,s,c):n.extend(!0,l,s,c);if(a.__openingContextMenu=!0,"OJ-MENU"===a.tagName)a.open(e,g,o);else{var _=t.Components.__GetWidgetConstructor(a,"ojMenu");(_&&_("instance")).open(e,g,o);var p=function(t){t.preventDefault()};a.addEventListener("contextmenu",p),window.setTimeout(function(){a.removeEventListener("contextmenu",p)},50)}a.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!t.DomUtils.recentTouchEnd()},_AddHoverable:function(t){var e;n.isPlainObject(t)?e=t.element:(e=t,t={});var i=t.afterToggle||n.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,i)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",i))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(e){var i;n.isPlainObject(e)?i=e.element:(i=e,e={});var s=e.afterToggle||n.noop;t.DomUtils.isTouchSupported()&&(i[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,s),i[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),i.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",s))),i.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,s)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",s)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,s)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",s))},_RemoveActiveable:function(t){t&&(t[0]&&(t[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),t.off(this.activeableEventNamespace),v=null)},_activeStartHandler:function(t,e){var i=n(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(i.hasClass("oj-disabled")||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(i.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(v=e.currentTarget,this.document.one("mouseup",function(){v=null}))))},_hoverStartHandler:function(t,e){var i=n(e.currentTarget);!i.hasClass("oj-disabled")&&this._isRealMouseEvent(e)&&(i.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,i){("oj-active"!==t||"mouseleave"!==i.type||this._isTargetInActiveElement(i.currentTarget))&&(n(i.currentTarget).removeClass(t),e(i.type))},_isTargetInActiveElement:function(t){return v===t||null!=v&&n.contains(v,t)},_hoverable:function(){},_focusable:function(e){n.isPlainObject(e)||(e={element:e}),e.component=this,t.DomUtils.makeFocusable(e)},_UnregisterChildNode:function(t){if(t){n(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=n(e.not(t)))}},_GetReadingDirection:function(){return t.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],i=this,s=0;this._traverseWidgetHierarchy(function(o){var r=0===s?i._GetTranslationsSectionName():o.widgetFullName;s+=1;var a=e.getComponentTranslations(r);null==a||n.isEmptyObject(a)||t.push(r)});var o=t.length;return o>0?function(){if(1===o)return e.getComponentTranslations(t[0]);for(var i={},s=o-1;s>=0;s--)n.widget.extend(i,e.getComponentTranslations(t[s]));return i}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var n=this.element[0];e.containers=function(e){for(var n=e,i=[];n;){var s=n.getAttribute,o=s?s.call(n,t.Components._OJ_CONTAINER_ATTR):null;null!=o&&i.push(o),n=n.parentNode}return i}(n),e.element=n,e.isCustomElement=this._IsCustomElement(),e.isCustomElement&&(e.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(t,e){var i=this.options,s=this._getTranslationSectionLoader(),o=e.translations;null==s||void 0!==o&&!n.isPlainObject(o)||T(this,void 0,e.translations,i,"translations",s),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(e,i){var s=this.options,o=[];this._traverseWidgetHierarchy(function(t){o.push(t.widgetName)}),o.push("default");var r=t.Components.__getDefaultOptions(o);if(!n.isEmptyObject(r))for(var a=this,u=function(){return a._getDynamicPropertyContext()},l=Object.keys(r),c=0;c<l.length;c++){var g=l[c],_=i[g];if(void 0===_||n.isPlainObject(_)){var p=r[g];if(p){var h=S(p);if(h)T(this,e[g],_,s,g,h,u);else{var d=[e[g]].concat(p);d.push(_),s[g]=A(d)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return null!=t.BaseCustomElementBridge.getRegistered(this._getRootElement().tagName)},_FixRendererContext:function(e){if(this._IsCustomElement()){var n=t.CollectionUtils.copyInto({},e);return delete n.component,n.componentElement=this._getRootElement(),n}return e},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===t&&(0===t?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=t,!0)},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete n.fn.baseComponent,t.__registerWidget=function(t,e,i,s){if(n.widget(t,e,i),s){var o=t.split(".")[1];delete n.fn[o]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var r,a=t.split("."),u=a[0],l=a[1],c=u+"-"+l;r="_"===l.substring(0,1)?"_"+u+"-"+l.substring(3):u+"-"+l.substring(2),n.expr.pseudos[r.toLowerCase()]=function(t){return!!n.data(t,c)}}},t.ComponentMessaging=function(t){this.Init(t)},t.Object.createSubclass(t.ComponentMessaging,t.Object,"oj.ComponentMessaging"),t.ComponentMessaging._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},t.ComponentMessaging._STRATEGY_TYPE_TO_CALLBACK={},t.ComponentMessaging.registerMessagingStrategy=function(e,n){e&&"function"==typeof n&&(t.ComponentMessaging._STRATEGY_TYPE_TO_CALLBACK[e]=n)},t.ComponentMessaging.prototype.Init=function(e){t.ComponentMessaging.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},t.ComponentMessaging.prototype.activate=function(e,i,s){var o=this;t.Assert.assertObject(s),this._launcher=e,this._contentElement=i,this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},s),this._isActive()?this._reactivate():(n.each(this._strategies,function(t,e){e.activate(o)}),this._activated=!0)},t.ComponentMessaging.prototype.update=function(e){t.Assert.assertObject(e),t.Assert.assertBoolean(this._activated),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},e),this._activated&&n.each(this._strategies,function(t,n){n.shouldUpdate(e)&&n.update()})},t.ComponentMessaging.prototype.deactivate=function(){n.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},t.ComponentMessaging.prototype.close=function(){this._activated&&n.each(this._strategies,function(t,e){e.close()})},t.ComponentMessaging.prototype._createMessagingStrategy=function(e,n){return new(t.ComponentMessaging._STRATEGY_TYPE_TO_CALLBACK[e]||t.ComponentMessaging._STRATEGY_TYPE_TO_CALLBACK[t.ComponentMessaging._STRATEGY_TYPE.NONE])(n)},t.ComponentMessaging.prototype._getComponent=function(){return this._component||null},t.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},t.ComponentMessaging.prototype._getContentElement=function(){return this._contentElement||null},t.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},t.ComponentMessaging.prototype._setMessagingContent=function(e){t.Assert.assertObject(e),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},e)},t.ComponentMessaging.prototype._isActive=function(){return this._activated},t.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(e){for(var i={},s=!1,o=this._component.options,r={},a=Object.keys(e),u=0;u<a.length;u++){var l=a[u],c=e[l];s=!1;var g=l+"";if(Array.isArray(c))for(var _=0;_<c.length;_++){var p=c[_];s||(s=this._resolveStrategyTypeForArtifact(g,p,o,r))}else"string"==typeof c&&(s||(s=this._resolveStrategyTypeForArtifact(g,c,o,r)));s||(r[g]=t.ComponentMessaging._STRATEGY_TYPE.NONE)}return this._addLabelStrategy(r),n.each(t.ComponentMessaging._STRATEGY_TYPE,function(t,e){i[e]=[]}),n.each(r,function(t,e){i[e].push(t)}),i},t.ComponentMessaging.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var e={},n=this._component.options.displayOptions||{},i={},s=Object.keys(n);for(let e=0;e<s.length;e++){let o=s[e],r=n[o],a=o+"";i[a]="string"==typeof r&&"none"===r?t.ComponentMessaging._STRATEGY_TYPE.NONE:t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(i),Object.keys(t.ComponentMessaging._STRATEGY_TYPE).forEach(function(n){let i=t.ComponentMessaging._STRATEGY_TYPE[n];e[i]=[]}),Object.keys(i).forEach(function(t){let n=i[t];e[n].push(t)}),e},t.ComponentMessaging.prototype._addLabelStrategy=function(e){var n=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact("labelEdge",n,this._component.options,e)||(e.labelEdge=t.ComponentMessaging._STRATEGY_TYPE.NONE)},t.ComponentMessaging.prototype._resolveStrategyTypeForArtifact=function(e,n,i,s){var o=!1,r=i.placeholder;switch(n){case t.ComponentMessaging._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===e&&(o||r||(s[e]=n,o=!0));break;case t.ComponentMessaging._STRATEGY_TYPE.INLINE:"messages"===e&&(o||(s[e]=n,o=!0));break;case t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==e||o||t.StringUtils.isEmptyOrUndefined(i.labelHint)||(s[e]=n,o=!0);break;default:o||"labelEdge"===e||(s[e]=n,o=!0)}return o},t.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var e=this._strategyToArtifacts(),n=e[t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW],i=e[t.ComponentMessaging._STRATEGY_TYPE.NONE],s=e[t.ComponentMessaging._STRATEGY_TYPE.PLACEHOLDER],o=e[t.ComponentMessaging._STRATEGY_TYPE.INLINE],r=e[t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE],a=e[t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],u=e[t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};n.length>0&&(l[t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,n)),s.length>0&&0===r.length&&(l[t.ComponentMessaging._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.PLACEHOLDER,s)),o.length>0&&(l[t.ComponentMessaging._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,o)),u.length>0&&(l[t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,u)),r.length>0?l[t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,r):a.length>0&&(l[t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,a)),l[t.ComponentMessaging._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NONE,i),this._strategies=l},t.ComponentMessaging.prototype._reactivate=function(){var e,i=this._strategyToArtifacts(),s=this;n.each(i,function(n,i){n+="",e=s._strategies[n],i&&i.length>0?e?e&&e.reactivate(i):(e=s._createMessagingStrategy(n,i),s._strategies[n]=e,e.activate(s)):e&&t.ComponentMessaging._STRATEGY_TYPE.NONE!==n&&(e.deactivate(),delete s._strategies[n])})},t.ComponentMessaging.prototype._strategyToArtifacts=function(){let t,e=this._component._getResolvedUserAssistance();if("compact"!==e&&"displayOptions"!==e)t=this._getUserAssistanceStrategyToArtifactsObj();else{let n=this._component.options.displayOptions||{};"compact"===e?(n.messages="notewindow",t=this._getResolvedMessagingDisplayOptions(n)):t=this._getResolvedMessagingDisplayOptions(n)}return t},t.MessagingStrategy=function(t){this.Init(t)},t.Object.createSubclass(t.MessagingStrategy,t.Object,"oj.MessagingStrategy"),t.MessagingStrategy.prototype.Init=function(e){t.Assert.assertArray(e),t.MessagingStrategy.superclass.Init.call(this),this._displayOptions=e},t.MessagingStrategy.prototype.activate=function(t){this._componentMessaging=t},t.MessagingStrategy.prototype.deactivate=function(){},t.MessagingStrategy.prototype.close=function(){},t.MessagingStrategy.prototype.reactivate=function(t){this.Init(t)},t.MessagingStrategy.prototype.shouldUpdate=function(t){return!0},t.MessagingStrategy.prototype.update=function(){},t.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},t.MessagingStrategy.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},t.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},t.MessagingStrategy.prototype.setHasValidatorHints=function(t){this._hasValidatorHints=t},t.MessagingStrategy.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},t.MessagingStrategy.prototype.GenerateIdIfNeeded=function(e){isNaN(t.MessagingStrategy._uidCounter)&&(t.MessagingStrategy._uidCounter=0);var n=e;n.id||(n.id="ojms_"+t.MessagingStrategy._uidCounter,t.MessagingStrategy._uidCounter+=1)},t.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},t.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},t.MessagingStrategy.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},t.MessagingStrategy.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let t=this.GetComponent();this._setMessagingContent(t._getValidatorHintsMC()),t._initAsyncValidatorMessagingHint()}var t=this._getMessagingContent();return t&&t.validatorHint||[]},t.MessagingStrategy.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},t.MessagingStrategy.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},t.MessagingStrategy.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},t.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},t.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},t.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},t.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},t.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},t.MessagingStrategy.prototype.AddAriaDescribedByForInlineMessaging=function(e){let i=this.GetContentElement();t.Assert.assertPrototype(i,n);let s=n(e).uniqueId()[0].getAttribute("id");i.each(function(){let t=this.getAttribute("aria-describedby"),e=t?t.split(/\s+/):[];-1===e.indexOf(s)&&e.push(s);let n=e.join(" ").trim();this.setAttribute("aria-describedby",n)})},t.MessagingStrategy.prototype.AddDescribedByToElement=function(t,e){const n=t.getAttribute("described-by");let i,s=n?n.split(/\s+/):[];-1===s.indexOf(e)&&s.push(e),i=s.join(" ").trim(),t.setAttribute("described-by",i)},t.MessagingStrategy.prototype.RemoveAriaDescribedByForInlineMessaging=function(e){let i=this.GetContentElement();t.Assert.assertPrototype(i,n);let s=e.getAttribute("id");i.each(function(){let t=this.getAttribute("aria-describedby"),e=t?t.split(/\s+/):[],n=e.indexOf(s);-1!==n&&e.splice(n,1);let i=e.join(" ").trim();i?this.setAttribute("aria-describedby",i):this.removeAttribute("aria-describedby")})},t.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},t.MessagingStrategy.prototype._setMessagingContent=function(t){return this._componentMessaging?this._componentMessaging._setMessagingContent(t):{}},t.DefaultMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NONE,t.DefaultMessagingStrategy),t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",t.Object.createSubclass(t.DefaultMessagingStrategy,t.MessagingStrategy,"oj.DefaultMessagingStrategy"),t.DefaultMessagingStrategy.prototype.update=function(){t.DefaultMessagingStrategy.superclass.update.call(this);var e=this.GetLauncher(),n=this.GetMaxSeverity(),s=[],o=[],r=!1,a=this.GetComponent().widget();e&&(this.IsInvalid()?(s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),r=!0):this.HasMessages()&&n===i.SEVERITY_LEVEL.WARNING?(s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),a.removeClass(s.join(" ")).addClass(o.join(" ")),this.GetContentElement().attr({"aria-invalid":r}))},t.DefaultMessagingStrategy.prototype.deactivate=function(){this.GetComponent().widget().removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),t.DefaultMessagingStrategy.superclass.deactivate.call(this)},t.PlaceholderMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.PLACEHOLDER,t.PlaceholderMessagingStrategy),t.Object.createSubclass(t.PlaceholderMessagingStrategy,t.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),t.PlaceholderMessagingStrategy.prototype.Init=function(e){t.PlaceholderMessagingStrategy.superclass.Init.call(this,e)},t.PlaceholderMessagingStrategy.prototype.activate=function(e){t.PlaceholderMessagingStrategy.superclass.activate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.reactivate=function(e){t.PlaceholderMessagingStrategy.superclass.reactivate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},t.PlaceholderMessagingStrategy.prototype.update=function(){t.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var e=this.GetLauncher();if(this.ShowPlaceholderContent()&&e){var n=this.GetConverterHint(),i=n.length?n[0]:"";if(t.StringUtils.isEmptyOrUndefined(i))return;var s={internalMessagingSet:!0};this.GetComponent().option({placeholder:i},{_context:s})}},t.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()},t.ComponentValidity=function(t,e){this.Init(t,e)},t.ComponentValidity.isInvalid=function(t){return i.getMaxSeverity(t)>=i.SEVERITY_LEVEL.ERROR},t.Object.createSubclass(t.ComponentValidity,t.Object,"oj.ComponentValidity"),t.ComponentValidity.prototype.Init=function(e,n){t.ComponentValidity.superclass.Init.call(this),this._initialize(e,n)},t.ComponentValidity.prototype.isInvalid=function(){return this._invalid},t.ComponentValidity.prototype.getMessages=function(){return this._messages},t.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},t.ComponentValidity.prototype.update=function(t,e){this._initialize(t,e)},t.ComponentValidity.prototype._initialize=function(e,n){this._compValid=e,this._compMessages=n,this._messages=this._getImmediateMessages(),this._maxSeverity=i.getMaxSeverity(this._messages),this._invalid=t.ComponentValidity.isInvalid(this._messages)},t.ComponentValidity.prototype._getImmediateMessages=function(){for(var e=this._compMessages||[],n=[],i=0;i<e.length;i++){var s=e[i];s instanceof t.ComponentMessage&&!s.canDisplay()||n.push(s)}return n},t.CustomElementBridge={},t.CustomElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.CustomElementBridge.proto,{AddComponentMethods:function(e){e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||(i._setEventProperty(this,e,n)||i._validateAndSetCopyProperty(this,e,n,null)||(t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(i))?t.CustomElementBridge._getPropertyAccessor(this,e)(n):this[e]=n))},e.getProperty=function(e){var n=t.BaseCustomElementBridge.getInstance(this),i=t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(n));if(t.__AttributeUtils.eventListenerPropertyToEventType(e)||!i)return this[e];var s=i?i.extension:null;return s&&s._COPY_TO_INNER_ELEM?n._getCopyProperty(this,e,i):t.CustomElementBridge._getPropertyAccessor(this,e)()},e.focus=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.focus.call(this)}},BatchedPropertySet:function(e,n){var i,s=Object.keys(n),o={};for(i=0;i<s.length;i++){var r=s[i],a=n[r];this._setEventProperty(e,r,a)||this._validateAndSetCopyProperty(e,r,a,null)||(a=this.ValidatePropertySet(e,r,a),o[r=this.GetAliasForProperty(r)]=a)}var u=t.Components.__GetWidgetConstructor(this._WIDGET_ELEM);if(u)u("option",o);else for(i=0;i<s.length;i++){var l=s[i];e.setProperty(l,n[l])}},CreateComponent:function(e){var i=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=t.CustomElementBridge._getWidgetElement(e,i?i(e):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==e){for(var s=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],o=0;o<s.length;o++){var r=s[o];e.hasAttribute(r)&&(this._WIDGET_ELEM.setAttribute(r,e.getAttribute(r)),this._removingTransfer=!0,e.removeAttribute(r))}this._copyProperties()}t.Components.unmarkPendingSubtreeHidden(e);var a=n(this._WIDGET_ELEM),u=n(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(a);u(this._PROPS),this._WIDGET=u,this._WIDGET_INSTANCE=u("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS);var l=function(t){return function(n){e.dispatchEvent(new FocusEvent(t,{relatedTarget:n.relatedTarget}))}},c=this._WIDGET_INSTANCE.__getFocusElement();c&&c!==e&&(c.addEventListener("focus",l("focus")),c.addEventListener("blur",l("blur"))),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this),s=i.internalName||n;return e._WIDGET.apply(null,[s].concat([].slice.call(arguments)))}},DefinePropertyCallback:function(e,n,i){var s=i.extension;Object.defineProperty(e,n,{enumerable:!0,get:function(){var e=t.BaseCustomElementBridge.getInstance(this);return i._eventListener?e.GetEventListenerProperty(n):s&&s._COPY_TO_INNER_ELEM?e._getCopyProperty(this,n,i):t.CustomElementBridge._getPropertyAccessor(this,n)()},set:function(e){var s=t.BaseCustomElementBridge.getInstance(this);if(!s.SaveEarlyPropertySet(n,e))if(i._eventListener)s.SetEventListenerProperty(this,n,e);else if(!s._validateAndSetCopyProperty(this,n,e,i)){var r={};if(void 0===e&&(r={_context:{skipEvent:!0}},e=o.getDefaultValue(i),s.__READY_TO_FIRE)){var a=this[n];t.BaseCustomElementBridge.__FirePropertyChangeEvent(this,n,void 0,a,"external")}t.CustomElementBridge._getPropertyAccessor(this,n,r)(e)}}})},GetAttributes:function(e){var n=t.BaseCustomElementBridge.getAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS&&(n=n.concat(e.extension._GLOBAL_TRANSFER_ATTRS)),e.extension._WATCHED_ATTRS&&(n=n.concat(e.extension._WATCHED_ATTRS)),n},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var s=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,o=s&&-1!==s.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);o&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.Components.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},InitializeBridge:function(e,n){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e,n),this._INNER_DOM_FUNCTION=n.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties()},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var n=this._COPY_ATTRS[e],i=t.__AttributeUtils.attributeToPropertyName(n);if(Object.prototype.hasOwnProperty.call(this._PROPS,i)){var s=this._PROPS[i];this._setCopyProperty(n,s),delete this._PROPS[i]}}},_getCopyProperty:function(e,n,i){var s=t.__AttributeUtils.propertyNameToAttribute(n);if(i.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(s)){var o,r=this._WIDGET_ELEM.getAttribute(s);try{o=t.__AttributeUtils.coerceValue(e,s,r,i.type)}catch(t){this.throwError(e,"Error parsing attribute value.",t)}return o}return null}return this._WIDGET_ELEM[n]},_processProperties:function(){var e=t.BaseCustomElementBridge.getProperties(this);if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var s=n[i],o=e[s];o.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[s]=!0);var r=o.extension;r&&r._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(s))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(e,n){this._WIDGET=function(i,s,o){if("option"===i)return t.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),n,s,o),n[s];throw this.throwError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,n,i,s){var o=t.__AttributeUtils.propertyNameToAttribute(n),r=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(o);if(r)if(i=this.ValidatePropertySet(e,n,i),this._WIDGET_ELEM){s||(s=t.BaseCustomElementBridge.__GetPropertyMetadata(n,t.BaseCustomElementBridge.getProperties(this)));var a=this._getCopyProperty(e,n,s);this._setCopyProperty(o,i),t.BaseCustomElementBridge.__FirePropertyChangeEvent(e,n,this._getCopyProperty(e,n,s),a,"external")}else this._PROPS[o]=i;return r},_setEventProperty:function(e,n,i){var s=!1;return t.__AttributeUtils.eventListenerPropertyToEventType(n)&&(e[n]=i,s=!0),s}}),t.CustomElementBridge.getMetadata=function(e){return t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]},t.CustomElementBridge.isKnownEvent=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.events&&i.METADATA.events[n])},t.CustomElementBridge.isKnownProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.properties&&i.METADATA.properties[n])},t.CustomElementBridge.getPropertyForAlias=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return i&&i[n]?i[n]:n},t.CustomElementBridge.register=function(e,n){var i=n[t.BaseCustomElementBridge.DESC_KEY_META];i=t.BaseCustomElementBridge.__ProcessEventListeners(i),n[t.BaseCustomElementBridge.DESC_KEY_META]=i,t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]=i;var s=i.extension,o=s&&s._WIDGET_NAME?t.CustomElementBridge.proto:t.DefinitionalElementBridge.proto,r=s._ALIASED_PROPS;r&&(s._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(r).forEach(function(t){s._COMPONENT_TO_ELEMENT_ALIASES[r[t]]=t}));t.BaseCustomElementBridge.__Register(e,n,o)&&customElements.define(e.toLowerCase(),o.getClass(n))},t.CustomElementBridge._getPropertyAccessor=function(e,n,i){return function(s){var o=t.BaseCustomElementBridge.getInstance(e);return 1===arguments.length?(s=o.ValidatePropertySet(e,n,s),n=o.GetAliasForProperty(n),void o._WIDGET("option",n,s,i)):(n=o.GetAliasForProperty(n),o._WIDGET("option",n))}.bind(e)},t.CustomElementBridge._getWidgetElement=function(e,n){var i=e;if(n){var s=e.firstElementChild;if(s&&s.tagName.toLowerCase()===n)i=s;else{i=document.createElement(n);for(var o=[],r=e.childNodes,a=0;a<r.length;a++)o.push(r[a]);for(e.appendChild(i);o.length;){var u=o.shift();t.BaseCustomElementBridge.getSlotAssignment(u)||i.appendChild(u)}}i.setAttribute("data-oj-internal","")}return i},t.CustomElementBridge._METADATA_MAP={};return t.DataProviderFeatureChecker=class{static isDataProvider(t){return!!t.fetchFirst}static isTreeDataProvider(t){return!!t.getChildDataProvider}},
/**
 * @preserve Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.DefinitionalElementBridge={},t.DefinitionalElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.DefinitionalElementBridge.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,s=n.value;n.subproperty&&(i=n.subproperty.path,s=n.subproperty.value),this._partialRender(t,i,s)},AddComponentMethods:function(e){e.refresh=function(){t.BaseCustomElementBridge.getInstance(this)._fullRender(this)},e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||i.SetProperty(this,e,n,this,!0)},e.getProperty=function(e){return t.BaseCustomElementBridge.getInstance(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},e._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(e){if(t.Components.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var n=t.__AttributeUtils.getUniqueId();this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:n},this._CONTEXT.uniqueId=e.id?e.id:n,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._INSTANCE){var s=i.internalName||n;return e._INSTANCE[s].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,n,i){function o(e,o){if(!this._BRIDGE.SaveEarlyPropertySet(n,e)){var r=this._BRIDGE._PROPS[n];t.BaseCustomElementBridge.__CompareOptionValues(n,i,e,r)?s.info(t.BaseCustomElementBridge.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+n+"' with same value."):(o&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,n,e)),i._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,n,e),this._BRIDGE._PROPS[n]=e):(this._BRIDGE._PROPS[n]=e,t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,n,e,r,o?"external":"internal")))}}function r(){var t=this._BRIDGE._PROPS[n];return void 0===t&&(t=this._BRIDGE._getDefaultValue(n,i),this._BRIDGE._PROPS[n]=t),t}i._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,n,function(){return r.bind(this)()},function(t){o.bind(this)(t,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,n,function(){var e=t.BaseCustomElementBridge.getInstance(this);return r.bind(e._PROPS_PROXY)()},function(e){var n=t.BaseCustomElementBridge.getInstance(this);o.bind(n._PROPS_PROXY)(e,!0)})},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},InitializeBridge:function(e,n){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e,n),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(t){this._INSTANCE&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;(!i||!i(e,n))&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}},_getDefaultValue:function(t,e){return this._EXTENSION._CONSTRUCTOR?a.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[t]:o.getDefaultValue(e)}}),t.GestureUtils={},t.GestureUtils._EVENT_NAMESPACE=".contextMenu",t.GestureUtils.stopDetectContextMenuGesture=function(e){e._clickListener&&(n(e).off(t.GestureUtils._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},t.GestureUtils.startDetectContextMenuGesture=function(e,i){var s,o,r,a,u=t.DomUtils.PRESS_HOLD_THRESHOLD,l=!1,c=!1,g=300,_=null,p=t.GestureUtils._EVENT_NAMESPACE,h=!1;function d(t,s,o){if((l=o)&&n(e).one("touchend"+p,function(){h=!0,setTimeout(function(){h=!1},50)}),"touchstart"===_&&"contextmenu"===t.type||"contextmenu"===_&&"touchstart"===t.type||"keydown"===_&&"contextmenu"===t.type)return"keydown"===_&&"contextmenu"===t.type&&t.preventDefault(),_=null,void clearTimeout(a);t.isDefaultPrevented&&t.isDefaultPrevented()||t.originalEvent&&t.originalEvent.defaultPrevented||t.defaultPrevented||("touchstart"!==t.type&&"touchmove"!==t.type||(t.originalEvent=t),i(t,s),(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)&&("touchstart"!==t.type&&"contextmenu"!==t.type&&"keydown"!==t.type||(_=t.type,a=setTimeout(function(){_=null},g))))}var E=function(t){l&&(t.preventDefault(),t.stopPropagation(),l=!1)};e._clickListener=E,e.addEventListener("click",E,!0);var m=function(t){if("mousedown"!==t.type||!h){if(l=!1,"touchstart"===t.type&&1===t.touches.length){var n=t.touches[0];o=n.pageX,r=n.pageY,c=!0,s=setTimeout(d.bind(void 0,t,"touch",!0),u),e._contextMenuPressHoldTimer=s}return!0}};e._touchStartAndMouseDownListener=m,e.addEventListener("touchstart",m,{passive:!1});var f=function(t){var e=t.touches[0];return(Math.abs(o-e.pageX)>5||Math.abs(r-e.pageY)>5)&&(c=!1,clearTimeout(s)),!0};e._touchMoveListener=f,e.addEventListener("touchmove",f,{passive:!0}),n(e).on("mousedown"+p,m).on("touchend"+p+" touchcancel"+p,function(){return c=!1,clearTimeout(s),!0}).on("keydown"+p+" contextmenu"+p,function(t){("contextmenu"===t.type||121===t.which&&t.shiftKey)&&d(t,c?"touch":"keydown"===t.type?"keyboard":"mouse",!1);return!0}),t.DomUtils.isTouchSupported()&&n(e).addClass("oj-menu-context-menu-launcher")},n(document).ready(function(){!function(){var t=document.createElement("div");t.style.border="1px solid",t.style.borderColor="red green",t.style.position="absolute",t.style.top="-999px",t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var e=document.body;e.appendChild(t);var n=window.getComputedStyle(t),i=n.backgroundImage;n.borderTopColor!==n.borderRightColor&&(null==i||"none"!==i&&"url (invalid-url:)"!==i)||e.classList.add("oj-hicontrast"),e.removeChild(t)}()}),t.Test={},t.Test.ready=!1,t.Test.domNodeForLocator=function(e){var i=e;if(t.StringUtils.isString(e)){var s=e;try{i=JSON.parse(s)}catch(t){return null}}if(i&&i.element){var o=n(i.element);if(o&&o.length>0){delete i.element;var r=i;return t.Components.getNodeBySubId(o[0],r)}}return null},t.Test.getOpenPopupCount=function(){return t.ZOrderUtils.getOpenPopupCount()},t.Test.findOpenPopups=function(){return t.ZOrderUtils.findOpenPopups()},t.Test.compareStackingContexts=function(e,n){return t.ZOrderUtils.compareStackingContexts(e,n)},n.cleanData=(C=n.cleanData,function(e){for(var n=[],i=0;i<e.length;i++){var s=e[i];if(null==s)break;var o=!1,r=t.Components.__GetWidgetConstructor(s);if(r&&!(o=r("instance")._IsCustomElement())){var a=t.Components.getComponentElementByNode(s);o=a&&t.BaseCustomElementBridge.getRegistered(a.tagName)}o||n.push(s)}n.length>0&&C(n)}),t.Components});